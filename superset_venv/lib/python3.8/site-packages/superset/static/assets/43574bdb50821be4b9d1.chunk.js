"use strict";(globalThis.webpackChunksuperset=globalThis.webpackChunksuperset||[]).push([[5334],{67521:(e,t,r)=>{r.r(t),r.d(t,{default:()=>i}),r(67294);var n=r(63475),c=r(11965);function i(e){let{height:t,width:r,echartOptions:i,formData:u,onContextMenu:a,refs:s}=e;const l={contextmenu:e=>{if(a){var t,r;e.event.stop();const n=e.event.event,c=i.series[0].data,s=null==(t=c.find((t=>t.id===e.data.source)))?void 0:t.name,l=null==(r=c.find((t=>t.id===e.data.target)))?void 0:r.name;if(s&&l){const e=[{col:u.source,op:"==",val:s,formattedVal:s},{col:u.target,op:"==",val:l,formattedVal:l}];a(n.clientX,n.clientY,e)}}}};return(0,c.tZ)(n.Z,{refs:s,height:t,width:r,echartOptions:i,eventHandlers:l})}},63475:(e,t,r)=>{r.d(t,{Z:()=>o});var n=r(78580),c=r.n(n),i=r(67294),u=r(51995),a=r(31431),s=r(11965);const l=u.iK.div`
  height: ${e=>{let{height:t}=e;return t}};
  width: ${e=>{let{width:t}=e;return t}};
`;function h(e,t){let{width:r,height:n,echartOptions:u,eventHandlers:h,zrEventHandlers:o,selectedValues:d={},refs:f}=e;const g=(0,i.useRef)(null);f&&(f.divRef=g);const v=(0,i.useRef)(),p=(0,i.useMemo)((()=>Object.keys(d)||[]),[d]),w=(0,i.useRef)([]);(0,i.useImperativeHandle)(t,(()=>({getEchartInstance:()=>v.current}))),(0,i.useEffect)((()=>{g.current&&(v.current||(v.current=(0,a.S1)(g.current)),Object.entries(h||{}).forEach((e=>{var t,r;let[n,c]=e;null==(t=v.current)||t.off(n),null==(r=v.current)||r.on(n,c)})),Object.entries(o||{}).forEach((e=>{var t,r;let[n,c]=e;null==(t=v.current)||t.getZr().off(n),null==(r=v.current)||r.getZr().on(n,c)})),v.current.setOption(u,!0))}),[u,h,o]),(0,i.useEffect)((()=>{v.current&&(v.current.dispatchAction({type:"downplay",dataIndex:w.current.filter((e=>!c()(p).call(p,e)))}),p.length&&v.current.dispatchAction({type:"highlight",dataIndex:p}),w.current=p)}),[p]);const b=(0,i.useCallback)((e=>{let{width:t,height:r}=e;v.current&&v.current.resize({width:t,height:r})}),[]);return(0,i.useEffect)((()=>(b({width:r,height:n}),()=>{var e;return null==(e=v.current)?void 0:e.dispose()})),[]),(0,i.useLayoutEffect)((()=>{b({width:r,height:n})}),[r,n,b]),(0,s.tZ)(l,{ref:g,height:n,width:r})}const o=(0,i.forwardRef)(h)}}]);
//# sourceMappingURL=43574bdb50821be4b9d1.chunk.js.map